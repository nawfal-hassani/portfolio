---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import Contact from '../components/Contact.astro';
import LangSwitcher from '../components/LangSwitcher.astro';
import ThemeSwitcher from '../components/ThemeSwitcher.astro';
import '../styles/global.css';
---

<BaseLayout title="Nawfal Hassani | Portfolio">
  <div class="fixed top-4 right-4 md:top-6 md:right-6 z-50 flex items-center gap-1.5 md:gap-2">
    <ThemeSwitcher />
    <LangSwitcher />
  </div>
  <main>
    <Hero />
    <Contact />
  </main>
  <footer class="py-6 px-6 text-center border-t" style="border-color: var(--theme-border);">
    <p class="text-xs" style="color: var(--theme-text-subtle);">© 2026 Nawfal Hassani</p>
  </footer>
</BaseLayout>

<script>
  const translations: Record<string, Record<string, string>> = {
    en: {
      role: 'Full-Stack <span class="role-highlight">Developer</span>',
      name: 'Nawfal<br />Hassani',
      tagline: 'Building digital experiences that blend design and engineering.',
      cta: 'Get in Touch',
      explore: 'Explore',
      back: 'Back',
      contactLabel: 'Contact',
      contactTitle: "Let's work together",
      contactDesc: 'Interested in collaborating or have a project in mind? Feel free to reach out.',
      aboutLabel: 'About',
      aboutDesc: "Curious and driven, I love building things from scratch. I learn by doing — experimenting, making mistakes, and always moving forward.",
      aboutYear: '2nd year — Programme Grande École',
      aboutTech: 'Tech Stack',
      aboutMindset: 'Mindset',
      aboutMindsetDesc: 'I believe every challenge is a chance to grow. I like combining logic, creativity, and problem-solving to build things that actually work.',
      menuAbout: 'About',
      menuAboutSub: 'Who I am & what drives me',
      menuProjects: 'Projects',
      menuProjectsSub: "What I've built",
      menuExperience: 'Experience',
      menuExperienceSub: 'My journey so far',
      menuBack: 'Back to menu',
      comingSoon: 'Coming soon...',
      menuCV: 'Download CV',
      expLabel: 'Journey',
      expYear1: '2024',
      expTitle1: 'Bac with honors',
      expDesc1: 'Graduated high school with honors. The beginning of the adventure.',
      expYear2: '2024',
      expTitle2: 'Epitech Montpellier',
      expDesc2: '1st & 2nd year — Grande École program. Deep-dive into C, algorithms, and full-stack development.',
      expYear3: '2025',
      expTitle3: 'Internship — JDC Occitanie',
      expDesc3: '4-month internship as a web developer. Real-world full-stack experience.',
      expYear4: '2025',
      expTitle4: 'GenAI Hackathon',
      expDesc4: 'AI-powered app built during a 48h hackathon. Won 1st place among all teams.',
      expYear5: '2026',
      expTitle5: 'Salon du Cheval de Paris',
      expDesc5: '1-week Project Week with a team of 3 designers (EartSup) and 3 developers (Epitech). Proposed a complete website redesign to VEL, organizer of the Salon du Cheval de Paris.',
      expYear6: '2025',
      expTitle6: 'SMS Dashboard',
      expDesc6: 'Full-stack dashboard for managing SMS campaigns. Real-time analytics and message tracking.',
      projLabel: 'Projects',
      projTitle1: 'GenAI Hackathon',
      projBadge1: '1st Place',
      projDesc1: 'AI-powered application built during a 48h hackathon. Team project combining generative AI with a practical use case.',
      projTitle2: 'Salon du Cheval de Paris',
      projBadge2: 'Redesign',
      projDesc2: 'Complete redesign proposed to VEL, organizer of the Salon du Cheval de Paris (70,000+ visitors/year). 1-week Project Week: new website, mobile app, logo, and merch.',
      projTitle3: 'SMS Dashboard',
      projBadge3: 'Full-Stack',
      projDesc3: 'Dashboard for managing and monitoring SMS campaigns. Real-time analytics and message tracking. (Built during internship at JDC Occitanie)',
      expYear7: '2026',
      expTitle7: '404::FutureNotFound',
      expDesc7: 'Top-down 2D game built in 48h during a Game Jam (theme: "It\'s not a bug, it\'s a feature"). Time travel, zombie waves, pixel art.',
      projTitle4: '404::FutureNotFound',
      projBadge4: 'Game Jam',
      projDesc4: 'Top-down 2D game built in 48h during a Game Jam (theme: "It\'s not a bug, it\'s a feature"). Explore a futuristic map, travel through time via glitch portals, and fight 4 waves of zombies. Pixel art 16x16.',
      salonBack: 'Back to projects',
      salonVisitors: '70,000+ visitors/year',
      salonIntro: '1-week Project Week in a team of 3 designers (EartSup) + 3 developers (Epitech). We proposed a complete redesign to VEL, organizer of the Salon du Cheval de Paris — one of the largest equestrian events in Europe with over 70,000 visitors each year. Our work covered a new visual identity, a redesigned website, a mobile app for visitor circulation, and a full merchandise line.',
      salonLogoTitle: 'New Logo & Visual Identity',
      salonLogoDesc: 'Complete rebrand designed by the EartSup designers. Three logo variants were created: a compact icon for small spaces, a typographic version for brand clarity, and a combined version for primary use across all media.',
      salonSiteTitle: 'Website Redesign',
      salonSiteDesc: 'A complete redesign of the official website with a modern, immersive interface. Features include a countdown to the event, online ticketing, program schedule, and all practical information for visitors.',
      salonAppTitle: 'Mobile App — Visitor Circulation',
      salonAppDesc: 'A mobile application designed to improve visitor flow across the venue. Features an interactive map of the event, real-time push notifications for upcoming competitions and shows, and easy navigation between exhibition halls.',
      salonMerchTitle: 'Merchandise Collection',
      salonMerchDesc: 'A full branded merchandise line designed for different audiences: Sportif, VIP, Famille, and Exposants. Includes t-shirts, caps, and equestrian equipment (saddle pads) — all featuring the new visual identity.',
    },
    fr: {
      role: '<span class="role-highlight">Développeur</span> Full-Stack',
      name: 'Nawfal<br />Hassani',
      tagline: 'Créer des expériences digitales qui allient design et ingénierie.',
      cta: 'Me contacter',
      explore: 'Explorer',
      back: 'Retour',
      contactLabel: 'Contact',
      contactTitle: 'Travaillons ensemble',
      contactDesc: 'Un projet en tête ou envie de collaborer\u00a0? N\'hésitez pas à me contacter.',
      aboutLabel: 'À propos',
      aboutDesc: 'Curieux et déterminé, j\'aime construire des choses de zéro. J\'apprends en faisant, je m\'expérimente en me trompant, et je progresse sans jamais m\'arrêter.',
      aboutYear: '2e année — Programme Grande École',
      aboutTech: 'Technologies',
      aboutMindset: 'État d\'esprit',
      aboutMindsetDesc: 'Je crois que chaque défi est une occasion de progresser. J\'aime allier logique, créativité et résolution de problèmes pour construire des choses qui marchent vraiment.',
      menuAbout: 'Présentation',
      menuAboutSub: 'Qui je suis et ce qui me motive',
      menuProjects: 'Projets',
      menuProjectsSub: 'Ce que j\'ai construit',
      menuExperience: 'Parcours',
      menuExperienceSub: 'Mon parcours',
      menuBack: 'Retour au menu',
      comingSoon: 'Bientôt disponible...',
      menuCV: 'Télécharger CV',
      expLabel: 'Parcours',
      expYear1: '2024',
      expTitle1: 'Bac avec mention',
      expDesc1: 'Obtention du Bac avec mention. Le début de l\'aventure.',
      expYear2: '2024',
      expTitle2: 'Epitech Montpellier',
      expDesc2: '1ère & 2ème année — Programme Grande École. Plongée dans le C, les algorithmes et le développement full-stack.',
      expYear3: '2025',
      expTitle3: 'Stage — JDC Occitanie',
      expDesc3: 'Stage de 4 mois en tant que développeur web. Expérience full-stack en conditions réelles.',
      expYear4: '2025',
      expTitle4: 'Hackathon GenAI',
      expDesc4: 'Application IA développée lors d\'un hackathon de 48h. 1ère place parmi toutes les équipes.',
      expYear5: '2026',
      expTitle5: 'Salon du Cheval de Paris',
      expDesc5: 'Project Week d\'une semaine en équipe de 3 designers (EartSup) et 3 développeurs (Epitech). Proposition d\'une refonte complète du site à VEL, organisateur du Salon du Cheval de Paris.',
      expYear6: '2025',
      expTitle6: 'Dashboard SMS',
      expDesc6: 'Tableau de bord full-stack pour la gestion de campagnes SMS. Analyses en temps réel et suivi des messages.',
      projLabel: 'Projets',
      projTitle1: 'Hackathon GenAI',
      projBadge1: '1ère place',
      projDesc1: 'Application alimentée par l\'IA construite lors d\'un hackathon de 48h. Projet d\'équipe combinant IA générative et cas d\'usage concret.',
      projTitle2: 'Salon du Cheval de Paris',
      projBadge2: 'Refonte',
      projDesc2: 'Refonte complète proposée à VEL, organisateur du Salon du Cheval de Paris (70 000+ visiteurs/an). Project Week d\'une semaine : nouveau site, app mobile, logo et merchandising.',
      projTitle3: 'Dashboard SMS',
      projBadge3: 'Full-Stack',
      projDesc3: 'Tableau de bord pour la gestion et le suivi de campagnes SMS. Analyses en temps réel et suivi des messages. (Réalisé en période de stage à JDC Occitanie)',
      expYear7: '2026',
      expTitle7: '404::FutureNotFound',
      expDesc7: 'Jeu 2D top-down réalisé en 48h lors d\'une Game Jam (thème : "It\'s not a bug, it\'s a feature"). Voyage temporel, vagues de zombies, pixel art.',
      projTitle4: '404::FutureNotFound',
      projBadge4: 'Game Jam',
      projDesc4: 'Jeu 2D top-down réalisé en 48h lors d\'une Game Jam (thème : "It\'s not a bug, it\'s a feature"). Explore une carte futuriste, voyage dans le temps via des failles glitch, et combat 4 vagues de zombies. Pixel art 16x16.',
      salonBack: 'Retour aux projets',
      salonVisitors: '70 000+ visiteurs/an',
      salonIntro: 'Project Week d\'une semaine en équipe de 3 designers (EartSup) + 3 développeurs (Epitech). Nous avons proposé une refonte complète à VEL, organisateur du Salon du Cheval de Paris — l\'un des plus grands événements équestres d\'Europe avec plus de 70 000 visiteurs chaque année. Notre travail couvrait une nouvelle identité visuelle, un site web redesigné, une application mobile pour la circulation des visiteurs, et une collection complète de merchandising.',
      salonLogoTitle: 'Nouveau Logo & Identité Visuelle',
      salonLogoDesc: 'Refonte complète de l\'identité visuelle réalisée par les designers d\'EartSup. Trois variantes du logo ont été créées : une icône compacte pour les espaces restreints, une version typographique pour la lisibilité de la marque, et une version combinée pour l\'utilisation principale sur tous les supports.',
      salonSiteTitle: 'Refonte du Site Web',
      salonSiteDesc: 'Refonte complète du site officiel avec une interface moderne et immersive. Comprend un compte à rebours avant l\'événement, la billetterie en ligne, le programme des épreuves et toutes les informations pratiques pour les visiteurs.',
      salonAppTitle: 'Application Mobile — Circulation des Visiteurs',
      salonAppDesc: 'Une application mobile conçue pour améliorer la circulation des visiteurs sur le site. Carte interactive de l\'événement, notifications push en temps réel pour les compétitions et spectacles à venir, et navigation facile entre les halls d\'exposition.',
      salonMerchTitle: 'Collection de Merchandising',
      salonMerchDesc: 'Une gamme complète de merchandising déclinée pour différents publics : Sportif, VIP, Famille et Exposants. Comprend t-shirts, casquettes et équipement équestre (tapis de selle) — le tout aux couleurs de la nouvelle identité visuelle.',
    },
    zh: {
      role: '全栈<span class="role-highlight">开发者</span>',
      name: 'Nawfal<br />Hassani',
      tagline: '构建融合设计与工程的数字体验。',
      cta: '联系我',
      explore: '探索',
      back: '返回',
      contactLabel: '联系方式',
      contactTitle: '一起合作',
      contactDesc: '有项目想法或者想合作？欢迎联系我。',
      aboutLabel: '关于我',
      aboutDesc: '好奇心强，有干劲。我喜欢从零开始构建东西，通过实践来学习——不断尝试，不怕犯错，始终前进。',
      aboutYear: '第二年 — 工程师项目',
      aboutTech: '技术栈',
      aboutMindset: '理念',
      aboutMindsetDesc: '我相信每个挑战都是成长的机会。我喜欢将逻辑、创造力和解决问题结合起来，构建真正有用的东西。',
      menuAbout: '关于我',
      menuAboutSub: '我是谁，我的动力',
      menuProjects: '项目',
      menuProjectsSub: '我做过的项目',
      menuExperience: '经历',
      menuExperienceSub: '我的历程',
      menuBack: '返回菜单',
      comingSoon: '即将推出...',
      menuCV: '下载简历',
      expLabel: '历程',
      expYear1: '2024',
      expTitle1: '高中毕业（优秀）',
      expDesc1: '以优异成绩高中毕业，冒险的开始。',
      expYear2: '2024',
      expTitle2: 'Epitech 蒙彼利埃',
      expDesc2: '第1和第2年 — 工程师项目。深入学习C语言、算法和全栈开发。',
      expYear3: '2025',
      expTitle3: '实习 — JDC Occitanie',
      expDesc3: '4个月网页开发实习。真实的全栈开发经验。',
      expYear4: '2025',
      expTitle4: 'GenAI 黑客马拉松',
      expDesc4: '48小时黑客马拉松中开发的AI应用。在所有参赛队伍中获得第一名。',
      expYear5: '2026',
      expTitle5: '巴黎马展 Salon du Cheval de Paris',
      expDesc5: '为期一周的Project Week，由3名设计师（EartSup）和3名开发者（Epitech）组成团队，向VEL（巴黎马展组织方）提交了完整的网站重构方案。',
      expYear6: '2025',
      expTitle6: 'SMS 仪表盘',
      expDesc6: '用于管理短信营销的全栈仪表盘。实时分析和消息追踪。',
      projLabel: '项目',
      projTitle1: 'GenAI 黑客马拉松',
      projBadge1: '第一名',
      projDesc1: '48小时黑客马拉松中开发的AI应用。团队项目，将生成式AI与实际应用场景相结合。',
      projTitle2: '巴黎马展 Salon du Cheval de Paris',
      projBadge2: '网站重构',
      projDesc2: '向VEL（巴黎马展组织方，每年70,000+参观者）提交的完整重构方案。为期一周的Project Week：新网站、移动应用、标志和周边产品。',
      projTitle3: 'SMS 仪表盘',
      projBadge3: '全栈',
      projDesc3: '用于管理和监控短信营销的仪表盘。实时分析和消息追踪。（在JDC Occitanie实习期间完成）',
      expYear7: '2026',
      expTitle7: '404::FutureNotFound',
      expDesc7: '48小时Game Jam中开发的2D俯视角游戏（主题："这不是bug，是feature"）。时间旅行、僵尸战斗、像素艺术。',
      projTitle4: '404::FutureNotFound',
      projBadge4: 'Game Jam',
      projDesc4: '48小时Game Jam中开发的2D俯视角游戏（主题："这不是bug，是feature"）。探索未来地图，通过故障传送门穿越时空，对抗4波僵尸。16x16像素艺术。',
      salonBack: '返回项目',
      salonVisitors: '每年70,000+参观者',
      salonIntro: '为期一周的Project Week，团队由3名设计师（EartSup）+ 3名开发者（Epitech）组成。我们向VEL（巴黎马展组织方）提交了完整的重构方案——这是欧洲最大的马术盛会之一，每年吸引超过70,000名参观者。我们的工作涵盖了全新的视觉识别、网站重构、用于访客导流的移动应用，以及完整的周边产品系列。',
      salonLogoTitle: '全新标志与视觉识别',
      salonLogoDesc: '由EartSup设计师完成的品牌重塑。创建了三种标志变体：紧凑图标版（适用于小空间）、排版版（突出品牌名称）、以及组合版（主要使用版本）。',
      salonSiteTitle: '网站重构',
      salonSiteDesc: '对官方网站进行完整重构，采用现代沉浸式界面。包含活动倒计时、在线购票、赛程安排及参观实用信息。',
      salonAppTitle: '移动应用 — 访客导流',
      salonAppDesc: '一款旨在改善场馆内访客流动的移动应用。提供活动互动地图、即将到来的赛事和表演的实时推送通知，以及展馆间的便捷导航。',
      salonMerchTitle: '周边产品系列',
      salonMerchDesc: '针对不同受众设计的完整品牌周边产品线：运动版、VIP版、家庭版和参展商版。包括T恤、帽子和马术装备（鞍垫）——全部采用新视觉识别设计。',
    },
    ar: {
      role: '<span class="role-highlight">مطور</span> ويب متكامل',
      name: 'Nawfal<br />Hassani',
      tagline: 'بناء تجارب رقمية تجمع بين التصميم والهندسة.',
      cta: 'تواصل معي',
      explore: 'استكشف',
      back: 'رجوع',
      contactLabel: 'اتصل',
      contactTitle: 'لنعمل معًا',
      contactDesc: 'هل لديك مشروع في ذهنك أو ترغب في التعاون؟ لا تتردد في التواصل.',
      aboutLabel: 'عني',
      aboutDesc: 'فضولي ومصمم، أحب بناء الأشياء من الصفر. أتعلم بالممارسة — أجرّب، أخطئ، وأتقدم دائمًا.',
      aboutYear: 'السنة الثانية — برنامج المهندسين',
      aboutTech: 'التقنيات',
      aboutMindset: 'طريقة التفكير',
      aboutMindsetDesc: 'أؤمن أن كل تحدٍّ هو فرصة للنمو. أحب الجمع بين المنطق والإبداع وحل المشكلات لبناء أشياء تعمل فعلاً.',
      menuAbout: 'عني',
      menuAboutSub: 'من أنا وما يحفزني',
      menuProjects: 'المشاريع',
      menuProjectsSub: 'ما قمت ببنائه',
      menuExperience: 'الخبرة',
      menuExperienceSub: 'مسيرتي حتى الآن',
      menuBack: 'العودة للقائمة',
      comingSoon: 'قريبًا...',
      menuCV: 'تحميل السيرة الذاتية',
      expLabel: 'المسيرة',
      expYear1: '٢٠٢٤',
      expTitle1: 'البكالوريا بتفوق',
      expDesc1: 'الحصول على البكالوريا بتفوق. بداية المغامرة.',
      expYear2: '٢٠٢٤',
      expTitle2: 'Epitech مونبلييه',
      expDesc2: 'السنة الأولى والثانية — برنامج المهندسين. تعمّق في لغة C والخوارزميات والتطوير الكامل.',
      expYear3: '٢٠٢٥',
      expTitle3: 'تدريب — JDC Occitanie',
      expDesc3: 'تدريب لمدة 4 أشهر كمطور ويب. تجربة واقعية في التطوير الكامل.',
      expYear4: '٢٠٢٥',
      expTitle4: 'هاكاثون GenAI',
      expDesc4: 'تطبيق ذكاء اصطناعي تم تطويره خلال هاكاثون مدته 48 ساعة. فزنا بالمركز الأول بين جميع الفرق.',
      expYear5: '٢٠٢٦',
      expTitle5: 'صالون الخيول بباريس',
      expDesc5: 'أسبوع مشروع (Project Week) ضمن فريق من 3 مصممين (EartSup) و3 مطورين (Epitech). تقديم مقترح إعادة تصميم كاملة للموقع إلى VEL، منظم صالون الخيول بباريس.',
      expYear6: '٢٠٢٥',
      expTitle6: 'لوحة تحكم الرسائل',
      expDesc6: 'لوحة تحكم كاملة لإدارة حملات الرسائل القصيرة. تحليلات فورية وتتبع الرسائل.',
      projLabel: 'المشاريع',
      projTitle1: 'هاكاثون GenAI',
      projBadge1: 'المركز الأول',
      projDesc1: 'تطبيق يعتمد على الذكاء الاصطناعي تم تطويره خلال هاكاثون مدته 48 ساعة. مشروع جماعي يجمع بين الذكاء الاصطناعي التوليدي وحالة استخدام عملية.',
      projTitle2: 'صالون الخيول بباريس',
      projBadge2: 'إعادة تصميم',
      projDesc2: 'مقترح إعادة تصميم شاملة مقدم إلى VEL، منظم صالون الخيول بباريس (+70,000 زائر/سنة). أسبوع مشروع: موقع جديد، تطبيق جوال، شعار ومنتجات ترويجية.',
      projTitle3: 'لوحة تحكم الرسائل',
      projBadge3: 'تطوير كامل',
      projDesc3: 'لوحة تحكم لإدارة ومراقبة حملات الرسائل القصيرة. تحليلات فورية وتتبع الرسائل. (أُنجز خلال فترة التدريب في JDC Occitanie)',
      expYear7: '٢٠٢٦',
      expTitle7: '404::FutureNotFound',
      expDesc7: 'لعبة ثنائية الأبعاد من منظور علوي تم تطويرها في 48 ساعة خلال Game Jam (الموضوع: "ليس خطأ، إنها ميزة"). سفر عبر الزمن، موجات زومبي، بكسل آرت.',
      projTitle4: '404::FutureNotFound',
      projBadge4: 'Game Jam',
      projDesc4: 'لعبة ثنائية الأبعاد من منظور علوي تم تطويرها في 48 ساعة خلال Game Jam (الموضوع: "ليس خطأ، إنها ميزة"). استكشف خريطة مستقبلية، سافر عبر الزمن عبر بوابات خلل، وقاتل 4 موجات من الزومبي. بكسل آرت 16x16.',
      salonBack: 'العودة إلى المشاريع',
      salonVisitors: '+70,000 زائر/سنة',
      salonIntro: 'أسبوع مشروع (Project Week) ضمن فريق من 3 مصممين (EartSup) + 3 مطورين (Epitech). قدمنا مقترح إعادة تصميم شاملة لـ VEL، منظم صالون الخيول بباريس — أحد أكبر الفعاليات الفروسية في أوروبا بأكثر من 70,000 زائر سنوياً. شمل عملنا هوية بصرية جديدة، وموقع إلكتروني مُعاد تصميمه، وتطبيق جوال لتنظيم حركة الزوار، ومجموعة كاملة من المنتجات الترويجية.',
      salonLogoTitle: 'شعار جديد وهوية بصرية',
      salonLogoDesc: 'إعادة بناء كاملة للعلامة التجارية من قبل مصممي EartSup. تم إنشاء ثلاثة نسخ من الشعار: أيقونة مختصرة للمساحات الصغيرة، ونسخة نصية لوضوح العلامة، ونسخة مدمجة للاستخدام الرئيسي.',
      salonSiteTitle: 'إعادة تصميم الموقع الإلكتروني',
      salonSiteDesc: 'إعادة تصميم كاملة للموقع الرسمي بواجهة حديثة وغامرة. يتضمن عداداً تنازلياً للحدث، وحجز التذاكر إلكترونياً، وجدول البرنامج، وجميع المعلومات العملية للزوار.',
      salonAppTitle: 'تطبيق جوال — تنظيم حركة الزوار',
      salonAppDesc: 'تطبيق جوال مصمم لتحسين تدفق الزوار في المكان. يتميز بخريطة تفاعلية للحدث، وإشعارات فورية للمسابقات والعروض القادمة، وتنقل سهل بين قاعات العرض.',
      salonMerchTitle: 'مجموعة المنتجات الترويجية',
      salonMerchDesc: 'مجموعة كاملة من المنتجات الترويجية مصممة لفئات مختلفة: رياضي، VIP، عائلي، وعارضين. تشمل قمصاناً، وقبعات، ومعدات فروسية (بطانيات سرج) — جميعها تحمل الهوية البصرية الجديدة.',
    },
  };

  const rtlLangs = ['ar'];

  function setLang(lang: string) {
    const t = translations[lang];
    if (!t) return;

    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach((el) => {
      const key = el.getAttribute('data-i18n')!;
      if (t[key]) {
        el.innerHTML = t[key];
      }
    });

    // Handle RTL
    const isRtl = rtlLangs.includes(lang);
    document.documentElement.dir = isRtl ? 'rtl' : 'ltr';

    // Update active button
    document.querySelectorAll('.lang-btn').forEach((btn) => {
      btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
    });

    // Save preference
    localStorage.setItem('lang', lang);
  }

  function init() {
    const saved = localStorage.getItem('lang') || 'fr';
    setLang(saved);

    document.querySelectorAll('.lang-btn').forEach((btn) => {
      btn.addEventListener('click', () => {
        setLang(btn.getAttribute('data-lang')!);
      });
    });
  }

  document.addEventListener('DOMContentLoaded', init);
  document.addEventListener('astro:page-load', init);
</script>
