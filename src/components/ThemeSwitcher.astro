---
---

<button id="theme-toggle" class="flex items-center justify-center px-2.5 py-1.5 md:px-3 md:py-2 rounded-full bg-white/5 backdrop-blur-md border border-white/10 cursor-pointer transition-all" aria-label="Toggle theme">
  <svg class="theme-icon-sun w-4 h-4 md:w-5 md:h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
    <circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
  </svg>
  <svg class="theme-icon-moon w-4 h-4 md:w-5 md:h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="display:none;">
    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
  </svg>
</button>

<style>
  #theme-toggle { color: #a1a1aa; }
  #theme-toggle:hover { color: #ffffff; }
  [data-theme="light"] .theme-icon-sun { display: none !important; }
  [data-theme="light"] .theme-icon-moon { display: block !important; }
</style>

<script>
  function initThemeToggle() {
    const toggle = document.getElementById('theme-toggle');
    if (!toggle) return;
    toggle.addEventListener('click', () => {
      const next = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark';
      document.documentElement.dataset.theme = next;
      localStorage.setItem('theme', next);
    });
  }
  document.addEventListener('DOMContentLoaded', initThemeToggle);
  document.addEventListener('astro:page-load', initThemeToggle);
</script>
